import "date"

from(bucket: "solar")
  |> range(start: today(), stop: date.add(d: 1d, to: today()))
  |> filter(fn: (r) => r["_measurement"] == "weather" and  r["_field"] == "cloud" and date.hour(t: r._time) >= 9 and date.hour(t: r._time) <= 15)
  |> mean()
  |> yield()